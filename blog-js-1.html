<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
			<title>webtech</title>
			<meta name="description" content="">
			<meta name="viewport" content="width=device-width">
			<link rel="shortcut icon" type="image/png" href="image/favicon.png" />

			<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

			<link rel="stylesheet" type="text/css" media="screen" href="/css/all-1475025672000.css"> 
    </head>

    <body>
		<header class="">

			<a href="/" class="title">
				<div class="img-wrapper">
					<img src="../image/77-logo.svg">
				</div>
				<h1>web tech blog</h1>
			</a>

			<ul>
				<li class="jsColor jsType">
					<a data-type="projects" href="/">projects</a>
				</li>
				<li class="jsColor jsType">
					<a data-type="blogs" href="/">blogs</a>
				</li>
				<li><a href="/about">about</a></li>
			</ul>

			<div class="about">
				<p class="intro">A blog for sharing practices, works, ideas or issues mostly on front-end development</p>
			</div>

		</header>

		<div role="main" class="master">
	<div class="wrapper" id="page-post">
		
		<div class="unit jsColor markdown">
		<h1 id="properly-manage-event-handler">Properly manage event handler</h1>
<div class="meta">
<p>category: front-end / javascript</p>
<p>date: 2016-9-25</p>
</div>

<p>I am not sure if you have met something like this before, but I am for sure that I had been troubled by it when I was dealing with my not well-organized custom Javascript.</p>
<p>Let&#39;s take a look at this as an example:</p>
<pre><code>window.onclick = function() {
    console.log( &#39;foo&#39; );
};

window.onclick = function() {
    console.log( &#39;bar&#39; );
};

// result will only be &#39;bar&#39;
</code></pre><p>Will there be two messages logged when we click?</p>
<p>In face, only the second one will work as assigning a function to a DOM event object in this way, what will happen is &quot;takeover&quot; but not &quot;add&quot;, the new declaration will override the previous one. They won&#39;t share one event handler and happen all together when triggered.</p>
<p>As mentioned above, what I encountered when I was so immature with JS, is something similiar like the code above, I assigned one or more event handler with some functions to global objects like window or document, but somehow nothing happens, because the same event handler has already been assigned somewhere else and is more priorer in the code queue. </p>
<p>For productivity, I found I need to organise those event handler in a better way. In fact, not only global objects but any object which is bound with event handler should be organised well otherwise it is likely to end up with a &quot;why is it not working?&quot; hell. The reason why global objects are given here as an example is because they are most likely to be bound with hanlders here or there.</p>
<p>But actually there is a way to really &quot;add&quot; but not &quot;override&quot; new functions to an already declared one, which is addEventListener();</p>
<pre><code>window.onclick = function() {
    console.log( &#39;foo&#39; );
};

window.addEventListener(&#39;click&#39;, function() {
    console.log( &#39;bar&#39; );
});

// result will be 
// &#39;foo&#39;
// &#39;bar&#39;
</code></pre><p>The result here will be both &#39;foo&#39; and &#39;bar&#39;, and actually we can keep adding.</p>

		</div>
	</div>
		</div>
		
		<footer>
			<span>Created by Vincent, Built with</span>
			<a href="http://laktek.github.com/punch">Punch</a>
		</footer>

		<script src="/js/all-1474949939000.js"></script> 

	</body>

</html>
